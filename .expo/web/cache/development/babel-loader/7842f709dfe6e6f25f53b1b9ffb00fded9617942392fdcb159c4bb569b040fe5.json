{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState, useEffect } from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport ImageBackground from \"react-native-web/dist/exports/ImageBackground\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport KeyboardAvoidingView from \"react-native-web/dist/exports/KeyboardAvoidingView\";\nimport { db } from \"../config\";\nimport { doc, setDoc, getDoc } from 'firebase/firestore';\nimport logodrink from \"../assets/logotrans.png\";\nimport bg from \"../assets/bg.png\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar AccountScreen = function AccountScreen(_ref) {\n  var navigation = _ref.navigation;\n  var _useState = useState(''),\n    _useState2 = _slicedToArray(_useState, 2),\n    username = _useState2[0],\n    setUsername = _useState2[1];\n  var handleUsernameChange = function handleUsernameChange(text) {\n    setUsername(text);\n  };\n  var saveUsername = function () {\n    var _ref2 = _asyncToGenerator(function* () {\n      try {\n        var userDoc = doc(db, 'users', username);\n        var userSnapshot = yield getDoc(userDoc);\n        if (userSnapshot.exists()) {\n          Alert.alert('Welcome back!');\n          navigation.navigate('Goal', {\n            username: username\n          });\n        } else {\n          yield setDoc(userDoc, {});\n          Alert.alert('User successfully created!');\n          navigation.navigate('Goal', {\n            username: username\n          });\n        }\n      } catch (error) {\n        console.error('Error checking/saving username: ', error);\n        Alert.alert('Error checking/saving username. Please try again.');\n      }\n    });\n    return function saveUsername() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  return _jsx(KeyboardAvoidingView, {\n    style: styles.safeContainer,\n    children: _jsx(ImageBackground, {\n      source: bg,\n      style: styles.container,\n      children: _jsx(View, {\n        style: styles.overlay,\n        children: _jsxs(View, {\n          style: styles.appContainer,\n          children: [_jsx(Image, {\n            source: logodrink,\n            style: styles.logo\n          }), _jsx(Text, {\n            style: styles.headerMotto2,\n            children: \"Are you ready for ThirstApp?\"\n          }), _jsx(Text, {\n            style: styles.headerMotto3,\n            children: \"First, what should we call you?\"\n          }), _jsx(View, {\n            style: styles.inputContainer,\n            children: _jsx(View, {\n              style: styles.inputBox,\n              children: _jsx(TextInput, {\n                style: styles.textInput,\n                placeholder: \"Enter your Username\",\n                value: username,\n                onChangeText: handleUsernameChange\n              })\n            })\n          }), _jsx(TouchableOpacity, {\n            style: styles.addButton,\n            onPress: saveUsername,\n            children: _jsx(Text, {\n              style: styles.addButtonLabel,\n              children: \"Let's Go!\"\n            })\n          })]\n        })\n      })\n    })\n  });\n};\nexport default AccountScreen;\nvar styles = StyleSheet.create({\n  safeContainer: {\n    flex: 1\n  },\n  container: {\n    flex: 1\n  },\n  overlay: {\n    flex: 1,\n    backgroundColor: 'rgba(0, 0, 0, 0.4)'\n  },\n  backgroundImage: {\n    flex: 1,\n    resizeMode: 'cover'\n  },\n  appContainer: {\n    flex: 1,\n    paddingTop: 50,\n    paddingBottom: 50,\n    paddingHorizontal: 16,\n    alignItems: 'center'\n  },\n  logo: {\n    height: 170,\n    width: 170,\n    top: 55,\n    alignItems: 'center'\n  },\n  headerMotto2: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    color: \"white\",\n    top: 50\n  },\n  headerMotto3: {\n    fontSize: 20,\n    color: \"white\",\n    top: 70\n  },\n  inputContainer: {\n    alignItems: 'center',\n    top: 150,\n    marginBottom: 5,\n    alignItems: 'center'\n  },\n  inputBox: {\n    borderWidth: 0,\n    borderColor: 'white',\n    borderRadius: 6\n  },\n  textInput: {\n    fontSize: 20,\n    marginRight: 10,\n    borderBottomWidth: 2,\n    color: 'gray',\n    borderColor: 'white',\n    alignContent: 'center'\n  },\n  addButton: {\n    backgroundColor: '#8BADD3',\n    paddingVertical: 23,\n    paddingHorizontal: 70,\n    borderRadius: 10,\n    top: 180,\n    alignItems: 'center'\n  },\n  addButtonLabel: {\n    fontSize: 23,\n    color: '#333'\n  },\n  errorText: {\n    color: 'red',\n    marginTop: 10\n  }\n});","map":{"version":3,"names":["React","useState","useEffect","StyleSheet","View","Text","Image","Alert","ImageBackground","TextInput","TouchableOpacity","KeyboardAvoidingView","db","doc","setDoc","getDoc","logodrink","bg","jsx","_jsx","jsxs","_jsxs","AccountScreen","_ref","navigation","_useState","_useState2","_slicedToArray","username","setUsername","handleUsernameChange","text","saveUsername","_ref2","_asyncToGenerator","userDoc","userSnapshot","exists","alert","navigate","error","console","apply","arguments","style","styles","safeContainer","children","source","container","overlay","appContainer","logo","headerMotto2","headerMotto3","inputContainer","inputBox","textInput","placeholder","value","onChangeText","addButton","onPress","addButtonLabel","create","flex","backgroundColor","backgroundImage","resizeMode","paddingTop","paddingBottom","paddingHorizontal","alignItems","height","width","top","fontSize","fontWeight","color","marginBottom","borderWidth","borderColor","borderRadius","marginRight","borderBottomWidth","alignContent","paddingVertical","errorText","marginTop"],"sources":["/Users/jio/Desktop/New Water (No data fetch in history)/screens/AccountScreen.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { StyleSheet, View, Text, Image, Alert, ImageBackground, TextInput, TouchableOpacity, KeyboardAvoidingView } from 'react-native';\r\n\r\nimport { db } from '../config';\r\nimport { doc, setDoc, getDoc } from 'firebase/firestore'; // Import necessary functions\r\n\r\nimport logodrink from '../assets/logotrans.png';\r\nimport bg from '../assets/bg.png';\r\n\r\nconst AccountScreen = ({ navigation }) => {\r\n\r\n    const [username, setUsername] = useState('');\r\n\r\n    const handleUsernameChange = (text) => {\r\n        setUsername(text);\r\n    };\r\n\r\n    const saveUsername = async () => {\r\n        try {\r\n            // Check if the user document exists\r\n            const userDoc = doc(db, 'users', username);\r\n            const userSnapshot = await getDoc(userDoc);\r\n\r\n            if (userSnapshot.exists()) {\r\n                // User exists\r\n                Alert.alert('Welcome back!');\r\n                navigation.navigate('Goal', { username })\r\n            } else {\r\n                // User does not exist, create a new user\r\n                await setDoc(userDoc, {});\r\n                Alert.alert('User successfully created!');\r\n                navigation.navigate('Goal', { username })\r\n            }\r\n        } catch (error) {\r\n            console.error('Error checking/saving username: ', error);\r\n            Alert.alert('Error checking/saving username. Please try again.');\r\n        }\r\n    };\r\n\r\n    return (\r\n        <KeyboardAvoidingView style={styles.safeContainer}>\r\n            <ImageBackground source={bg} style={styles.container}>\r\n                <View style={styles.overlay}>\r\n                    <View style={styles.appContainer}>\r\n                        <Image source={logodrink} style={styles.logo} />\r\n                        <Text style={styles.headerMotto2}>Are you ready for ThirstApp?</Text>\r\n                        <Text style={styles.headerMotto3}>First, what should we call you?</Text>\r\n\r\n                        <View style={styles.inputContainer}>\r\n                            <View style={styles.inputBox}>\r\n                                <TextInput\r\n                                    style={styles.textInput}\r\n                                    placeholder=\"Enter your Username\"\r\n                                    value={username}\r\n                                    onChangeText={handleUsernameChange}\r\n                                />\r\n                            </View>\r\n                        </View>\r\n\r\n                        <TouchableOpacity style={styles.addButton} onPress={saveUsername}>\r\n                            <Text style={styles.addButtonLabel}>Let's Go!</Text>\r\n                        </TouchableOpacity>\r\n                    </View>\r\n                </View>\r\n            </ImageBackground>\r\n        </KeyboardAvoidingView>\r\n    );\r\n};\r\n\r\nexport default AccountScreen;\r\n\r\nconst styles = StyleSheet.create({\r\n    safeContainer: {\r\n        flex: 1,\r\n    },\r\n    container: {\r\n        flex: 1,\r\n    },\r\n\r\n    overlay: {\r\n        flex: 1,\r\n        backgroundColor: 'rgba(0, 0, 0, 0.4)',\r\n    },\r\n\r\n\r\n    backgroundImage: {\r\n        flex: 1,\r\n        resizeMode: 'cover',\r\n    },\r\n\r\n    appContainer: {\r\n        flex: 1,\r\n        paddingTop: 50,\r\n        paddingBottom: 50,\r\n        paddingHorizontal: 16,\r\n        alignItems: 'center',\r\n\r\n    },\r\n\r\n    //baboy na umiinom\r\n    logo: {\r\n        height: 170, // size nung logo\r\n        width: 170, // size nung loge\r\n        top: 55,\r\n        alignItems: 'center',\r\n\r\n    },\r\n\r\n    // Are you ready for ThirstApp\r\n    headerMotto2: {\r\n        fontSize: 24,\r\n        fontWeight: 'bold',\r\n        color: \"white\",\r\n        top: 50,\r\n    },\r\n\r\n    //First, what should we call you?\r\n    headerMotto3: {\r\n        fontSize: 20,\r\n        color: \"white\",\r\n        top: 70,\r\n    },\r\n\r\n    inputContainer: {\r\n        alignItems: 'center',\r\n        top: 150,\r\n        marginBottom: 5,\r\n        alignItems: 'center',\r\n        // paddingHorizontal: 80,\r\n        // paddingVertical: 1,\r\n    },\r\n\r\n    inputBox: {\r\n        borderWidth: 0,\r\n        borderColor: 'white',\r\n        borderRadius: 6,\r\n        // paddingHorizontal: 8,\r\n        // paddingVertical: 8,\r\n    },\r\n\r\n    //user input\r\n    textInput: {\r\n        // flex: 1,\r\n        fontSize: 20,\r\n        marginRight: 10,\r\n        borderBottomWidth: 2,\r\n        color: 'gray',\r\n        borderColor: 'white',\r\n        // paddingVertical: 0,\r\n        // paddingHorizontal:10,\r\n        alignContent: 'center',\r\n    },\r\n\r\n    //Let's Go\r\n    addButton: {\r\n        backgroundColor: '#8BADD3',\r\n        paddingVertical: 23,\r\n        paddingHorizontal: 70,\r\n        borderRadius: 10,\r\n        top: 180,\r\n        alignItems: 'center',\r\n\r\n    },\r\n\r\n    //text sa button\r\n    addButtonLabel: {\r\n        fontSize: 23,\r\n        color: '#333', // Text color\r\n    },\r\n\r\n    // Error message text\r\n    errorText: {\r\n        color: 'red',\r\n        marginTop: 10,\r\n    },\r\n\r\n\r\n});"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}